<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="recruitment:api-base" content="%VITE_API_URL%" />
    <script>
      // Глобальная конфигурация нужна для того, чтобы фронтенд мог узнать адрес API
      // без жёсткого связывания с доменом. Railway подменяет переменную окружения
      // во время билда, поэтому в мета-теге окажется финальное значение.
      (function () {
        const meta = document.querySelector('meta[name="recruitment:api-base"]');
        const rawValue = meta?.getAttribute('content');
        if (!rawValue) {
          return;
        }
        const isPlaceholder = /^%.*%$/.test(rawValue) && rawValue.includes('VITE_API_URL');
        if (isPlaceholder) {
          return;
        }
        const apiBaseUrl = rawValue;
        window.__RECRUITMENT_CONFIG__ = window.__RECRUITMENT_CONFIG__ || {};
        window.__RECRUITMENT_CONFIG__.apiBaseUrl = apiBaseUrl;
      })();
    </script>
    <title>Splash</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
